#Apparition et position du marchand
execute at @p[scores={sumAlchimiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumArmurier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumAubergiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumBanquier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumBDetail=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumBarman=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumBoucher=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumBoulanger=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumBousier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumCharboniste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumEnchanteur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumFigurant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumFleuriste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumJoaillier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDACompagnie=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDArgile=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDADeMine=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDAMagiques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDeBois=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDeChevaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDeDisques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDFEtLegumes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDPDeLaMer=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDeRedstone=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDeTableaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDeTetes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumMDuDrugstore=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumPoissonnier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumServeur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumSDSalonDeThe=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumTanneur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumVDCDTelep=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumVDPDNEDeLEnd=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant
execute at @p[scores={sumCopperMerc=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/summonmerchant

#Etiquettage du marchand
execute at @p[scores={sumAlchimiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spawnAlchimiste
execute at @p[scores={sumArmurier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnArmurier
execute at @p[scores={sumAubergiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnInnkeeper
execute at @p[scores={sumBanquier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnBanker
execute at @p[scores={sumBDetail=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnBanker2
execute at @p[scores={sumBarman=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnBarman
execute at @p[scores={sumBoucher=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnBoucher
execute at @p[scores={sumBoulanger=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnBaker
execute at @p[scores={sumBousier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnTurdMerchant
execute at @p[scores={sumCharboniste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnCharbon
execute at @p[scores={sumEnchanteur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnEnchanter
execute at @p[scores={sumFigurant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnFigurant
execute at @p[scores={sumFleuriste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnFleuriste
execute at @p[scores={sumJoaillier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnJeweler
execute at @p[scores={sumMDACompagnie=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnClayMerchant
execute at @p[scores={sumMDArgile=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnClayMerchant
execute at @p[scores={sumMDADeMine=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnMineMerchant
execute at @p[scores={sumMDAMagiques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnPancartier
execute at @p[scores={sumMDeBois=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnWood
execute at @p[scores={sumMDeChevaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnMarchevo
execute at @p[scores={sumMDeDisques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnDiscMerchant
execute at @p[scores={sumMDFEtLegumes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnPrimeur
execute at @p[scores={sumMDPDeLaMer=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnPrismarin
execute at @p[scores={sumMDeRedstone=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnRaidstone
execute at @p[scores={sumMDeTableaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnArtist
execute at @p[scores={sumMDeTetes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnHeadMerchant
execute at @p[scores={sumMDuDrugstore=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnDrugStore
execute at @p[scores={sumPoissonnier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnPoissonier
execute at @p[scores={sumServeur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnWaiter
execute at @p[scores={sumSDSalonDeThe=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnServSalThe
execute at @p[scores={sumTanneur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnDyeMerchant
execute at @p[scores={sumVDCDTelep=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnTPMerchant
execute at @p[scores={sumVDPDNEDeLEnd=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnNether
execute at @p[scores={sumCopperMerc=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tag @e[type=minecraft:villager,distance=..0.5,limit=1,sort=nearest] add spwnCopMerc

#Mise à jour des marchands
function chibreworld:merchants/merchant_update

#Suppression d'un exemplaire du livre
execute at @p[scores={sumAlchimiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumArmurier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumAubergiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumBanquier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumBDetail=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumBarman=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumBoucher=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumBoulanger=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumBousier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumCharboniste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumEnchanteur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumFigurant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumFleuriste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumJoaillier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDACompagnie=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDArgile=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDADeMine=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDAMagiques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDeBois=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDeChevaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDeDisques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDFEtLegumes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDPDeLaMer=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDeRedstone=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDeTableaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDeTetes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumMDuDrugstore=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumPoissonnier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumServeur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumSDSalonDeThe=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumTanneur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumVDCDTelep=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumVDPDNEDeLEnd=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1
execute at @p[scores={sumCopperMerc=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run clear @p minecraft:written_book{title: "Livre des marchands"} 1

#Affichage du message de réussite
execute at @p[scores={sumAlchimiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumAlchimiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumArmurier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumArmurier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumAubergiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumAubergiste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumBanquier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumBanquier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumBDetail=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumBDetail=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumBarman=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumBarman=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumBoucher=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumBoucher=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumBoulanger=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumBoulanger=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumBousier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumBousier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumCharboniste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumCharboniste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumEnchanteur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumEnchanteur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumFigurant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumFigurant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumFleuriste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumFleuriste=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumJoaillier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumJoaillier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDACompagnie=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDACompagnie=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDArgile=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDArgile=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDADeMine=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDADeMine=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDAMagiques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDAMagiques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDeBois=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDeBois=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDeChevaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDeChevaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDeDisques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDeDisques=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDFEtLegumes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDFEtLegumes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDPDeLaMer=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDPDeLaMer=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDeRedstone=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDeRedstone=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDeTableaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDeTableaux=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDeTetes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDeTetes=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumMDuDrugstore=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumMDuDrugstore=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumPoissonnier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumPoissonnier=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumServeur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumServeur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumSDSalonDeThe=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumSDSalonDeThe=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumTanneur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumTanneur=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumVDCDTelep=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumVDCDTelep=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumVDPDNEDeLEnd=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumVDPDNEDeLEnd=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]
execute at @p[scores={sumCopperMerc=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run tellraw @p[scores={sumCopperMerc=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] ["",{"text":"Marchand invoqué : ","color":"dark_green"},{"selector":"@e[type=minecraft:villager,tag=!,sort=nearest,limit=1,distance=..10]"}]

# Selection de marchand
execute at @p[scores={selmerchant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/selectnearestcustommerchant
# Suppression de marchand
execute at @p[scores={delmerchant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/removenearestselectedmerchand
# Deplacement de marchand
execute at @p[scores={movemerchant=1..},nbt={SelectedItem: {id: "minecraft:written_book", tag: {title: "Livre des marchands"}}}] run function chibreworld:merchants/movenearestmerchant

# Enlevage de l'etiquette
scoreboard players set @p[scores={sumAlchimiste=1..}] sumAlchimiste 0
scoreboard players set @p[scores={sumArmurier=1..}] sumArmurier 0
scoreboard players set @p[scores={sumAubergiste=1..}] sumAubergiste 0
scoreboard players set @p[scores={sumBanquier=1..}] sumBanquier 0
scoreboard players set @p[scores={sumBDetail=1..}] sumBDetail 0
scoreboard players set @p[scores={sumBarman=1..}] sumBarman 0
scoreboard players set @p[scores={sumBoucher=1..}] sumBoucher 0
scoreboard players set @p[scores={sumBoulanger=1..}] sumBoulanger 0
scoreboard players set @p[scores={sumBousier=1..}] sumBousier 0
scoreboard players set @p[scores={sumCharboniste=1..}] sumCharboniste 0
scoreboard players set @p[scores={sumEnchanteur=1..}] sumEnchanteur 0
scoreboard players set @p[scores={sumFigurant=1..}] sumFigurant 0
scoreboard players set @p[scores={sumFleuriste=1..}] sumFleuriste 0
scoreboard players set @p[scores={sumJoaillier=1..}] sumJoaillier 0
scoreboard players set @p[scores={sumMDACompagnie=1..}] sumMDACompagnie 0
scoreboard players set @p[scores={sumMDArgile=1..}] sumMDArgile 0
scoreboard players set @p[scores={sumMDADeMine=1..}] sumMDADeMine 0
scoreboard players set @p[scores={sumMDAMagiques=1..}] sumMDAMagiques 0
scoreboard players set @p[scores={sumMDeBois=1..}] sumMDeBois 0
scoreboard players set @p[scores={sumMDeChevaux=1..}] sumMDeChevaux 0
scoreboard players set @p[scores={sumMDeDisques=1..}] sumMDeDisques 0
scoreboard players set @p[scores={sumMDFEtLegumes=1..}] sumMDFEtLegumes 0
scoreboard players set @p[scores={sumMDPDeLaMer=1..}] sumMDPDeLaMer 0
scoreboard players set @p[scores={sumMDeRedstone=1..}] sumMDeRedstone 0
scoreboard players set @p[scores={sumMDeTableaux=1..}] sumMDeTableaux 0
scoreboard players set @p[scores={sumMDeTetes=1..}] sumMDeTetes 0
scoreboard players set @p[scores={sumMDuDrugstore=1..}] sumMDuDrugstore 0
scoreboard players set @p[scores={sumPoissonnier=1..}] sumPoissonnier 0
scoreboard players set @p[scores={sumServeur=1..}] sumServeur 0
scoreboard players set @p[scores={sumSDSalonDeThe=1..}] sumSDSalonDeThe 0
scoreboard players set @p[scores={sumTanneur=1..}] sumTanneur 0
scoreboard players set @p[scores={sumVDCDTelep=1..}] sumVDCDTelep 0
scoreboard players set @p[scores={sumVDPDNEDeLEnd=1..}] sumVDPDNEDeLEnd 0
scoreboard players set @p[scores={sumCopperMerc=1..}] sumCopperMerc 0
scoreboard players set @p[scores={selmerchant=1..}] selmerchant 0
scoreboard players set @p[scores={delmerchant=1..}] delmerchant 0
scoreboard players set @p[scores={movemerchant=1..}] movemerchant 0